{"ast":null,"code":"import _toConsumableArray from\"D:/Desktop - Data Drive/AnimalProject/codeacademy-jamming-react/jamming/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"D:/Desktop - Data Drive/AnimalProject/codeacademy-jamming-react/jamming/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/Desktop - Data Drive/AnimalProject/codeacademy-jamming-react/jamming/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"D:/Desktop - Data Drive/AnimalProject/codeacademy-jamming-react/jamming/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"D:/Desktop - Data Drive/AnimalProject/codeacademy-jamming-react/jamming/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/Desktop - Data Drive/AnimalProject/codeacademy-jamming-react/jamming/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import'./App.css';import SearchBar from'../SearchBar/SearchBar';import SearchResults from'../SearchResults/SearchResults';import Playlist from'../Playlist/Playlist';import Spotify from'../../util/Spotify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";Spotify.getAccessToken();var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={searchResults:[],playlistName:\"\",playlistTracks:[]};_this.addTrack=_this.addTrack.bind(_assertThisInitialized(_this));_this.removeTrack=_this.removeTrack.bind(_assertThisInitialized(_this));_this.updatePlaylistName=_this.updatePlaylistName.bind(_assertThisInitialized(_this));_this.savePlaylist=_this.savePlaylist.bind(_assertThisInitialized(_this));_this.search=_this.search.bind(_assertThisInitialized(_this));return _this;}//original function redid to match other peoples code better\n// addTrack(track) {\n//   this.addTrack(playlistTracks => \n//     playlistTracks.includes(track) ? \n//     playlistTracks : [...playlistTracks, track]);\n//     \n// }\n//renamed from addTrackToPlaylist make sure to catch all the renames\n//the dots are spread operators\n_createClass(App,[{key:\"addTrack\",value:function addTrack(track){if(!this.state.playlistTracks.find(function(playlistTrack){return playlistTrack.id===track.id;})){this.setState(function(prevState){return{playlistTracks:[].concat(_toConsumableArray(prevState.playlistTracks),[track])};});}}//update playlist function that accepts a name and resets the playlistName state\n},{key:\"updatePlaylistName\",value:function updatePlaylistName(name){this.setState({playlistName:name});}},{key:\"removeTrack\",value:function removeTrack(track){this.setState({playlistTracks:this.state.playlistTracks.filter(function(playlistTrack){return playlistTrack.id!==track.id;})});}},{key:\"savePlaylist\",value:function savePlaylist(){var trackUris=this.state.playlistTracks.map(function(playlistTrack){return playlistTrack.uri;});Spotify.savePlaylist(this.state.playlistName,trackUris);this.setState({searchResults:[]});this.updatePlaylistName(\"\");console.info(trackUris);}},{key:\"search\",value:function search(term){var _this2=this;Spotify.search(term).then(function(searchResults){return _this2.setState({searchResults:searchResults});});}//methods are bound to 'addTrack', 'updatePlaylistName'\n// 'removeTrack', 'savePlaylist', 'search' so there is no need to put the ()\n},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Ja\",/*#__PURE__*/_jsx(\"span\",{className:\"highlight\",children:\"mmm\"}),\"ing\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:this.search}),/*#__PURE__*/_jsxs(\"div\",{className:\"App-playlist\",children:[/*#__PURE__*/_jsx(SearchResults,{searchResults:this.state.searchResults,onAdd:this.addTrack}),/*#__PURE__*/_jsx(Playlist,{name:this.state.playlistName,tracks:this.state.playlistTracks,onRemove:this.removeTrack,onNameChange:this.updatePlaylistName,onSave:this.savePlaylist})]})]})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["D:/Desktop - Data Drive/AnimalProject/codeacademy-jamming-react/jamming/src/Components/App/App.js"],"names":["React","SearchBar","SearchResults","Playlist","Spotify","getAccessToken","App","props","state","searchResults","playlistName","playlistTracks","addTrack","bind","removeTrack","updatePlaylistName","savePlaylist","search","track","find","playlistTrack","id","setState","prevState","name","filter","trackUris","map","uri","console","info","term","then","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nimport './App.css';\r\nimport  SearchBar  from '../SearchBar/SearchBar';\r\nimport  SearchResults  from '../SearchResults/SearchResults';\r\nimport  Playlist  from '../Playlist/Playlist';\r\nimport Spotify from '../../util/Spotify';\r\n\r\nSpotify.getAccessToken();\r\n\r\nclass App extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    this.state = {\r\n      searchResults: [],\r\n      playlistName: \"\",\r\n      playlistTracks: []\r\n    };\r\n\r\n\r\n    this.addTrack = this.addTrack.bind(this);\r\n    this.removeTrack = this.removeTrack.bind(this);\r\n    this.updatePlaylistName = this.updatePlaylistName.bind(this);\r\n    this.savePlaylist = this.savePlaylist.bind(this);\r\n    this.search = this.search.bind(this);\r\n\r\n  }\r\n\r\n  //original function redid to match other peoples code better\r\n  // addTrack(track) {\r\n  //   this.addTrack(playlistTracks => \r\n  //     playlistTracks.includes(track) ? \r\n  //     playlistTracks : [...playlistTracks, track]);\r\n  //     \r\n  // }\r\n\r\n\r\n//renamed from addTrackToPlaylist make sure to catch all the renames\r\n//the dots are spread operators\r\naddTrack(track) {\r\n    if (!this.state.playlistTracks.find(playlistTrack => playlistTrack.id === track.id)) {\r\n      this.setState(prevState => ({\r\n        playlistTracks: [...prevState.playlistTracks, track]\r\n      }));\r\n    }\r\n  }\r\n\r\n  //update playlist function that accepts a name and resets the playlistName state\r\n  updatePlaylistName(name) {\r\n    this.setState({\r\n      playlistName: name\r\n    });\r\n  }\r\n\r\n\r\n  removeTrack(track) {\r\n    this.setState({\r\n      playlistTracks: this.state.playlistTracks.filter(playlistTrack => playlistTrack.id !== track.id)\r\n    });\r\n  }\r\n\r\n  savePlaylist() {\r\n    const trackUris = this.state.playlistTracks.map(playlistTrack => playlistTrack.uri);\r\n    Spotify.savePlaylist(this.state.playlistName, trackUris);\r\n    this.setState({\r\n      searchResults: []\r\n    });\r\n    this.updatePlaylistName(\"\");\r\n    console.info(trackUris);\r\n  }\r\n\r\n  search(term) {\r\n    Spotify.search(term)\r\n      .then(searchResults => this.setState({\r\n        searchResults: searchResults\r\n      }));\r\n  }\r\n\r\n//methods are bound to 'addTrack', 'updatePlaylistName'\r\n// 'removeTrack', 'savePlaylist', 'search' so there is no need to put the ()\r\n  \r\nrender() {\r\n\r\n  return (\r\n    <div>\r\n      <h1>Ja<span className=\"highlight\">mmm</span>ing</h1>\r\n        <div className=\"App\">\r\n        <SearchBar onSearch={this.search} />\r\n          <div className=\"App-playlist\">\r\n          <SearchResults \r\n            searchResults={this.state.searchResults}\r\n            onAdd={this.addTrack}/>\r\n\r\n          <Playlist \r\n            name={this.state.playlistName} \r\n            tracks={this.state.playlistTracks} \r\n            onRemove={this.removeTrack} \r\n            onNameChange={this.updatePlaylistName} \r\n            onSave={this.savePlaylist}/>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  );\r\n  }\r\n\r\n  }\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}